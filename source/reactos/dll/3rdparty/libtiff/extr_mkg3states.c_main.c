#define NULL ((void*)0)
typedef unsigned long size_t;  // Customize by platform.
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;  // Either arithmetic or pointer type.
/* By default, we understand bool (as a convenience). */
typedef int bool;
#define false 0
#define true 1

/* Forward declarations */

/* Type definitions */
typedef  int /*<<< orphan*/  FILE ;

/* Variables and functions */
 int /*<<< orphan*/  BlackTable ; 
 int /*<<< orphan*/  EOLH ; 
 int /*<<< orphan*/  EOLV ; 
 int /*<<< orphan*/  Ext ; 
 int /*<<< orphan*/  FillTable (int /*<<< orphan*/ ,int,int /*<<< orphan*/ ,int /*<<< orphan*/ ) ; 
 int /*<<< orphan*/  Horiz ; 
 int /*<<< orphan*/  MainTable ; 
 int /*<<< orphan*/  MakeUp ; 
 int /*<<< orphan*/  MakeUpB ; 
 int /*<<< orphan*/  MakeUpW ; 
 int /*<<< orphan*/  Pass ; 
 int /*<<< orphan*/  S_EOL ; 
 int /*<<< orphan*/  S_Ext ; 
 int /*<<< orphan*/  S_Horiz ; 
 int /*<<< orphan*/  S_MakeUp ; 
 int /*<<< orphan*/  S_MakeUpB ; 
 int /*<<< orphan*/  S_MakeUpW ; 
 int /*<<< orphan*/  S_Pass ; 
 int /*<<< orphan*/  S_TermB ; 
 int /*<<< orphan*/  S_TermW ; 
 int /*<<< orphan*/  S_V0 ; 
 int /*<<< orphan*/  S_VL ; 
 int /*<<< orphan*/  S_VR ; 
 int /*<<< orphan*/  TermB ; 
 int /*<<< orphan*/  TermW ; 
 int /*<<< orphan*/  V0 ; 
 int /*<<< orphan*/  VL ; 
 int /*<<< orphan*/  VR ; 
 int /*<<< orphan*/  WhiteTable ; 
 int /*<<< orphan*/  WriteTable (int /*<<< orphan*/ *,int /*<<< orphan*/ ,int,char*) ; 
 char* const_class ; 
 int /*<<< orphan*/  fclose (int /*<<< orphan*/ *) ; 
 int /*<<< orphan*/ * fopen (char*,char*) ; 
 int /*<<< orphan*/  fprintf (int /*<<< orphan*/ *,char*,...) ; 
 int getopt (int,char**,char*) ; 
 int /*<<< orphan*/  packoutput ; 
 char* postbrace ; 
 char* prebrace ; 
 int /*<<< orphan*/  stderr ; 
 char* storage_class ; 

int
main(int argc, char* argv[])
{
    FILE* fd;
    char* outputfile;
    int c;

#if !HAVE_DECL_OPTARG
    extern int optind;
    extern char* optarg;
#endif

    while ((c = getopt(argc, argv, "c:s:bp")) != -1)
	switch (c) {
	case 'c':
	    const_class = optarg;
	    break;
	case 's':
	    storage_class = optarg;
	    break;
	case 'p':
	    packoutput = 0;
	    break;
	case 'b':
	    prebrace = "{";
	    postbrace = "}";
	    break;
	case '?':
	    fprintf(stderr,
		"usage: %s [-c const] [-s storage] [-p] [-b] file\n",
		argv[0]);
	    return (-1);
	}
    outputfile = optind < argc ? argv[optind] : "g3states.h";
    fd = fopen(outputfile, "w");
    if (fd == NULL) {
	fprintf(stderr, "%s: %s: Cannot create output file.\n",
	    argv[0], outputfile);
	return (-2);
    }
    FillTable(MainTable, 7, Pass, S_Pass);
    FillTable(MainTable, 7, Horiz, S_Horiz);
    FillTable(MainTable, 7, V0, S_V0);
    FillTable(MainTable, 7, VR, S_VR);
    FillTable(MainTable, 7, VL, S_VL);
    FillTable(MainTable, 7, Ext, S_Ext);
    FillTable(MainTable, 7, EOLV, S_EOL);
    FillTable(WhiteTable, 12, MakeUpW, S_MakeUpW);
    FillTable(WhiteTable, 12, MakeUp, S_MakeUp);
    FillTable(WhiteTable, 12, TermW, S_TermW);
    FillTable(WhiteTable, 12, EOLH, S_EOL);
    FillTable(BlackTable, 13, MakeUpB, S_MakeUpB);
    FillTable(BlackTable, 13, MakeUp, S_MakeUp);
    FillTable(BlackTable, 13, TermB, S_TermB);
    FillTable(BlackTable, 13, EOLH, S_EOL);

    fprintf(fd, "/* WARNING, this file was automatically generated by the\n");
    fprintf(fd, "    mkg3states program */\n");
    fprintf(fd, "#include \"tiff.h\"\n");
    fprintf(fd, "#include \"tif_fax3.h\"\n");
    WriteTable(fd, MainTable, 128, "TIFFFaxMainTable");
    WriteTable(fd, WhiteTable, 4096, "TIFFFaxWhiteTable");
    WriteTable(fd, BlackTable, 8192, "TIFFFaxBlackTable");
    fclose(fd);
    return (0);
}